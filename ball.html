```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Card Trick</title>
    <link rel="apple-touch-icon" href="./icon/card2phone-512x512.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background: black;
            overflow: hidden;
            touch-action: none;
        }
        #background {
            position: fixed;
            inset: 0;
            background-size: cover;
            background-position: center;
        }
        #card {
            position: absolute;
            width: 200px;
            user-select: none;
            -webkit-user-drag: none;
            touch-action: none;
            transform-origin: center;
        }
    </style>
</head>
<body>

<div id="background"></div>
<img id="card" src="https://deckofcardsapi.com/static/img/AS.png">

<script>
const card = document.getElementById('card');

let posX = window.innerWidth / 2 - 100;
let posY = window.innerHeight / 2 - 150;
let scale = 1;

let isDragging = false;
let startX = 0;
let startY = 0;

// SENSOR
let smoothBeta = 0;
let smoothGamma = 0;
const sensitivity = 0.5;
const smoothing = 0.2;
let isSensorEnabled = true;

// DRAG EXIT CONFIG
const EXIT_THRESHOLD = 80; // px keluar bawah layar
let draggedOut = false;

update();

// ================= DRAG =================
card.addEventListener('touchstart', e => {
    if (e.touches.length === 1) {
        isDragging = true;
        startX = e.touches[0].clientX - posX;
        startY = e.touches[0].clientY - posY;
    }
}, { passive:false });

document.addEventListener('touchmove', e => {
    if (!isDragging) return;

    posX = e.touches[0].clientX - startX;
    posY = e.touches[0].clientY - startY;

    // â— DRAG: hanya batasi kiri, kanan, atas
    const maxX = window.innerWidth - card.offsetWidth;
    posX = Math.max(0, Math.min(maxX, posX));
    posY = Math.max(-card.offsetHeight * 0.2, posY);

    update();
    e.preventDefault();
}, { passive:false });

document.addEventListener('touchend', () => {
    if (!isDragging) return;
    isDragging = false;

    // ðŸ‘‰ JIKA DITARIK KELUAR BAWAH â†’ HILANG
    if (posY > window.innerHeight - EXIT_THRESHOLD) {
        hideCard();
    } else {
        // snap back jika belum cukup keluar
        posY = Math.min(posY, window.innerHeight - card.offsetHeight);
        update();
    }
});

// ================= SENSOR =================
window.addEventListener('deviceorientation', e => {
    if (!isSensorEnabled || isDragging || card.style.display === 'none') return;

    const beta = Math.max(-45, Math.min(45, e.beta || 0));
    const gamma = Math.max(-45, Math.min(45, e.gamma || 0));

    smoothBeta += (beta - smoothBeta) * smoothing;
    smoothGamma += (gamma - smoothGamma) * smoothing;
});

function sensorLoop() {
    if (!isDragging && card.style.display !== 'none') {
        posX += smoothGamma * sensitivity;
        posY += smoothBeta * sensitivity;

        // â— SENSOR: FULL BOUNDS
        const maxX = window.innerWidth - card.offsetWidth;
        const maxY = window.innerHeight - card.offsetHeight;

        posX = Math.max(0, Math.min(maxX, posX));
        posY = Math.max(0, Math.min(maxY, posY));

        update();
    }
    requestAnimationFrame(sensorLoop);
}
sensorLoop();

// ================= HELPERS =================
function update() {
    card.style.transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
}

function hideCard() {
    card.style.display = 'none';
}

function showCard() {
    card.style.display = 'block';
    posX = window.innerWidth / 2 - card.offsetWidth / 2;
    posY = window.innerHeight / 2 - card.offsetHeight / 2;
    update();
}

// DOUBLE TAP TO RETURN CARD
let lastTap = 0;
document.addEventListener('touchend', () => {
    const now = Date.now();
    if (now - lastTap < 300 && card.style.display === 'none') showCard();
    lastTap = now;
});
</script>

</body>
</html>
```
