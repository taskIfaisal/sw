<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fake Call</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="apple-touch-startup-image" href="./icon/phone-icon-512x512.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Telepon">
  <link rel="icon" type="image/png" sizes="192x192" href="./icon/phone-icon-512x512.png">
  <link rel="apple-touch-icon" href="./icon/white.PNG">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100vw;
      height: 100vh;
      font-family: 'SF Pro Display', sans-serif;
      background-color: black;
      background-size: cover;
      background-position: center;
      color: white;
      overflow: hidden;
      touch-action: none;
      position: relative;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    #splash {
      position: absolute;
      width: 100%;
      height: 100%;
      background: url('./icon/white.PNG') no-repeat center center;
      background-size: cover;
      z-index: 1000;
    }

    #settings {
      display: none;
      position: absolute;
      z-index: 1001;
      background: white;
      width: 100%;
      height: 100%;
      padding: 20px;
      box-sizing: border-box;
    }

    #settings h2 {
      margin-top: 40px;
      text-align: center;
      font-size: 24px;
    }

    .option-img {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .option-img img {
      width: 120px;
      height: 240px;
      object-fit: cover;
      border: 3px solid transparent;
      cursor: pointer;
    }

    .option-img img.selected {
      border-color: #00cc00;
    }

    #main {
      display: none;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
    }

    .container {
      position: relative;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

  <div id="splash"></div>

  <div id="settings">
    <h2>Pilih Gambar Latar</h2>
    <div class="option-img">
      <img src="./icon/white.PNG" id="white" alt="White">
      <img src="./icon/dark.PNG" id="dark" alt="Dark">
    </div>
  </div>

  <div id="main">
    <div class="container">
      <!-- Konten Fake Call kamu di sini -->
    </div>
  </div>

  <script>
  const splash = document.getElementById('splash');
  const settings = document.getElementById('settings');
  const main = document.getElementById('main');
  const bgOptions = document.querySelectorAll('.option-img img');

  let fingerCount = 0;
  let startY = [];

  function applyBackground() {
    const saved = localStorage.getItem('bg') || 'white';
    splash.style.backgroundImage = `url('./icon/${saved}.PNG')`;
    main.style.backgroundImage = `url('./icon/${saved}.PNG')`;
    bgOptions.forEach(img => {
      img.classList.toggle('selected', img.id === saved);
    });
  }

  applyBackground();

  // Usap dua jari di seluruh layar (splash atau main)
  function registerTwoFingerSwipe(elem) {
  elem.addEventListener('touchstart', (e) => {
    if (e.touches.length === 2) {
      startY = [e.touches[0].clientY, e.touches[1].clientY];
    } else {
      startY = [];
    }
  });

  elem.addEventListener('touchmove', (e) => {
    if (e.touches.length === 2 && startY.length === 2) {
      const dy0 = e.touches[0].clientY - startY[0];
      const dy1 = e.touches[1].clientY - startY[1];

      // Pastikan keduanya geser ke bawah minimal 30px dan searah
      if (dy0 > 30 && dy1 > 30 && Math.abs(dy0 - dy1) < 100) {
        settings.style.display = 'block';
        startY = []; // Reset agar tidak terpanggil berkali-kali
      }
    }
  });
}

  registerTwoFingerSwipe(splash);
  registerTwoFingerSwipe(main);

  // Klik gambar opsi
  bgOptions.forEach(img => {
    img.addEventListener('click', () => {
      const selected = img.id;
      localStorage.setItem('bg', selected);
      applyBackground();
      settings.style.display = 'none';
      splash.style.display = 'none';
      main.style.display = 'block';
    });
  });

  // Saat pertama kali jalan
  window.onload = () => {
    if (localStorage.getItem('bg')) {
      setTimeout(() => {
        splash.style.display = 'none';
        main.style.display = 'block';
      }, 2000);
    }
  };
</script>


</body>
</html>
